

<!DOCTYPE html>
<html>
	<head>
		<link href="styles/style.css" type="text/css" rel="stylesheet">
		<title> Electric Ventilator</title>

	<div id="main-container">
<font color="black"><div id="page-title">SOFTWARE IMPLIMENTATION</div></font>			


	</head>
	
	<body>

<center>
<p><a href=page2.html>
<img src="Project_pics/b1.png"  width="150" height="70">
</a>
<a href=page3.html>
<img src="Project_pics/b2.png"  width="150" height="70">
</a>
<a href=page1.html>
<img src="Project_pics/b5.png"  width="150" height="70">
</a>
<a href=page5.html>
<img src="Project_pics/b4.png"  width="150" height="70">
</a></p>

<img src="Project_pics/F2.png"  width="550" height="500">

</center>
<center>

<p>CODE</p>
<p>



int stepPin=3;<br>
int dirPin=4;<br>
volatile char choice;<br>

<br>
//Function PrototypeS<br>
void infant();<br>
void toddler();<br>
void adult();<br>
<br>

<br>
void setup() {<br>
   pinMode(stepPin,OUTPUT); <br>
   pinMode(dirPin,OUTPUT);<br>
   Serial.begin(9600);<br>
   
}<br>

void loop(){<br>

  Serial.println("Please Select The Desired Mode Given in the DASHBOARD, By Pressing The Corresponding Label:\n");<br>
  Serial.println("*****DASHBOARD******");<br>
  Serial.println(" >> I:INFANT  ");<br>
  Serial.println(" >> T:TODDLER ");<br>
  Serial.println(" >> A:Adult");<br>
 Serial.println(" >>  S: Stop the Ventilator \n");<br>
 
 while (Serial.available() == 0) {<br>
     // Wait for User to Input Data<br>
     }<br>
choice= Serial.read();//Read the data the user has input<br>

switch(choice)<br>
   
   {<br>
    case 'I':<br>
           //infant();<br>
           Serial.println("You are in Infant Mode");<br>
           break;<br>
    case 'T':<br>

             while(choice!='S'){<br>
           Serial.println("You are in Toddler Mode");
           // toddler();<br>
             }<br>
            break;<br>
    case 'A':<br>
           Serial.println("You are in Adult Mode");<br>
          //  adult();<br>
            break;   <br>
     case 'S':<br>
       Serial.println("Ventilator Has Been Sttoped");<br>
       break;<br>
            
    
    default:<br>
             Serial.println("Invalid Input");<br>
               while (Serial.available() == 0) {<br>
             // Wait for User to Input Data<br>
                  }<br>
             choice= Serial.read();////Read the data the user has input<br>

  }}<br>




void infant(){<br>
   run(1600,1000,150,250,325);<br>
   }<br>
   
void toddler()<br>
{<br>
     run(1600,1000,250,250,500);<br>
  }<br>

void adult()<br>
{<br>
         run(1000,1000,250,250,1000);<br>
  }<br>



void run(int x,int y,int z,int k,int l){<br>
  digitalWrite(dirPin,HIGH); // Enables the motor to move in a particular direction<br>
  // Makes 200 pulses for making one full cycle rotation<br>
  for(int i = 0; i <x ;i++) {<br>
    digitalWrite(stepPin,HIGH); <br>
    delayMicroseconds(z); <br>
    digitalWrite(stepPin,LOW);<br> 
    delayMicroseconds(k); <br>
  }<br>
  delay(l); // One second delay<br>
  
  digitalWrite(dirPin,LOW); //Changes the rotations direction<br>
  // Makes 400 pulses for making two full cycle rotation<br>
  for(int j = 0; j <y; j++) {<br>
    digitalWrite(stepPin,HIGH);<br>
    delayMicroseconds(z);<br>
    digitalWrite(stepPin,LOW);<br>
    delayMicroseconds(k);<br>
  }<br>
  delay(1); }<br>

  
</center>

 

  

	</body>
</html>